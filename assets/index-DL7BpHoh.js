function G(){}function J(){}const N={};function M(n,t){const e=N,o=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,i=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return E(n,o,i)}function E(n,t,e){if(z(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return w(n.children,t,e)}return Array.isArray(n)?w(n,t,e):""}function w(n,t,e){const o=[];let i=-1;for(;++i<n.length;)o[i]=E(n[i],t,e);return o.join("")}function z(n){return!!(n&&typeof n=="object")}function I(n,t,e,o){const i=n.length;let r=0,c;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,e=e>0?e:0,o.length<1e4)c=Array.from(o),c.unshift(t,e),n.splice(...c);else for(e&&n.splice(t,e);r<o.length;)c=o.slice(r,r+1e4),c.unshift(t,0),n.splice(...c),r+=1e4,t+=1e4}function Q(n,t){return n.length>0?(I(n,n.length,0,t),n):t}const x={}.hasOwnProperty;function V(n){const t={};let e=-1;for(;++e<n.length;)F(t,n[e]);return t}function F(n,t){let e;for(e in t){const i=(x.call(n,e)?n[e]:void 0)||(n[e]={}),r=t[e];let c;if(r)for(c in r){x.call(i,c)||(i[c]=[]);const f=r[c];L(i[c],Array.isArray(f)?f:f?[f]:[])}}}function L(n,t){let e=-1;const o=[];for(;++e<t.length;)(t[e].add==="after"?n:o).push(t[e]);I(n,0,0,o)}function v(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nn=s(/[A-Za-z]/),tn=s(/[\dA-Za-z]/),en=s(/[#-'*+\--9=?A-Z^-~]/);function rn(n){return n!==null&&(n<32||n===127)}const on=s(/\d/),cn=s(/[\dA-Fa-f]/),un=s(/[!-/:-@[-`{-~]/);function O(n){return n!==null&&n<-2}function T(n){return n!==null&&(n<0||n===32)}function b(n){return n===-2||n===-1||n===32}const B=s(new RegExp("\\p{P}|\\p{S}","u")),Z=s(/\s/);function s(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function D(n,t,e,o){const i=o?o-1:Number.POSITIVE_INFINITY;let r=0;return c;function c(u){return b(u)?(n.enter(e),f(u)):t(u)}function f(u){return b(u)&&r++<i?(n.consume(u),f):(n.exit(e),t(u))}}function fn(n){if(n===null||T(n)||Z(n))return 1;if(B(n))return 2}function ln(n,t,e){const o=[];let i=-1;for(;++i<n.length;){const r=n[i].resolveAll;r&&!o.includes(r)&&(t=r(t,e),o.push(r))}return t}const an={partial:!0,tokenize:H};function H(n,t,e){return o;function o(r){return b(r)?D(n,i,"linePrefix")(r):i(r)}function i(r){return r===null||O(r)?t(r):e(r)}}const S=function(n){if(n==null)return q;if(typeof n=="function")return A(n);if(typeof n=="object")return Array.isArray(n)?R(n):U(n);if(typeof n=="string")return $(n);throw new Error("Expected function, string, or object as test")};function R(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=S(n[e]);return A(o);function o(...i){let r=-1;for(;++r<t.length;)if(t[r].apply(this,i))return!0;return!1}}function U(n){const t=n;return A(e);function e(o){const i=o;let r;for(r in n)if(i[r]!==t[r])return!1;return!0}}function $(n){return A(t);function t(e){return e&&e.type===n}}function A(n){return t;function t(e,o,i){return!!(K(e)&&n.call(this,e,typeof o=="number"?o:void 0,i||void 0))}}function q(){return!0}function K(n){return n!==null&&typeof n=="object"&&"type"in n}const j=[],W=!0,P=!1,X="skip";function Y(n,t,e,o){let i;typeof t=="function"&&typeof e!="function"?(o=e,e=t):i=t;const r=S(i),c=o?-1:1;f(n,void 0,[])();function f(u,g,l){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const a=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(k,"name",{value:"node ("+(u.type+(a?"<"+a+">":""))+")"})}return k;function k(){let a=j,y,p,m;if((!t||r(u,g,l[l.length-1]||void 0))&&(a=_(e(u,l)),a[0]===P))return a;if("children"in u&&u.children){const d=u;if(d.children&&a[0]!==X)for(p=(o?d.children.length:-1)+c,m=l.concat(d);p>-1&&p<d.children.length;){const C=d.children[p];if(y=f(C,p,m)(),y[0]===P)return y;p=typeof y[1]=="number"?y[1]:p+c}}return a}}}function _(n){return Array.isArray(n)?n:typeof n=="number"?[W,n]:n==null?j:[n]}function sn(n,t,e,o){let i,r,c;typeof t=="function"?(r=void 0,c=t,i=e):(r=t,c=e,i=o),Y(n,r,f,i);function f(u,g){const l=g[g.length-1],h=l?l.children.indexOf(u):void 0;return c(u,h,l)}}export{P as E,tn as a,nn as b,fn as c,rn as d,en as e,D as f,b as g,un as h,cn as i,on as j,T as k,an as l,O as m,v as n,G as o,Q as p,V as q,ln as r,I as s,M as t,J as u,sn as v,S as w,Y as x,Z as y,B as z};
